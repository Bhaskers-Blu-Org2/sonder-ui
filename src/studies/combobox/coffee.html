<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>Coffee Factory</title>
  <link rel="stylesheet" href="../../style.css"></style>
  <script src="/build/caiacc.js"></script>
</head>
<body>
  <div class="example-form" role="main">
    <h1 id="page-title">Choose a Coffee Maker</h1>

    <form aria-labelledby="page-title" novalidate>
  
      <listbox-button label="Coffee Maker Type" class="type-select"></listbox-button>
  
      <combo-autocomplete label="Color" class="color-select"></combo-autocomplete>

      <multiselect-native label="Features" class="feature-select"></multiselect-native>

      <button type="submit">Submit</button>
    </form>

    <a href="index.html" style="display:none" id="next-link">Finish</a>
  </div>

  <script type="text/javascript">
    const types = ["Single-serve", "Multi-cup", "Percolator", "French press", "Cold brew"];
    const colors = ["White", "Black", "Red", "Stainless Steel", "Aqua"];
    const features = ["Auto shut-off", "Clock/timer", "Dishwasher-safe parts", "Hot water button", "Integrated grinder", "Programmable", "Removable filter basket", "Temperature control", "Frother", "Digital display", "BPA-free"];

    function formatOptions(stringArray) {
      return stringArray.map((option) => ({name: option, value: option}));
    }

    const typeCombo = document.querySelector('.type-select');
    typeCombo.options = formatOptions(types);

    const colorSelect = document.querySelector('.color-select');
    colorSelect.options = formatOptions(colors);

    const featureCombo = document.querySelector('.feature-select');
    featureCombo.options = formatOptions(features);

    document.querySelector('form').addEventListener('submit', () => {
      document.getElementById('next-link').click();
    });
  </script>

</body>
</html>
